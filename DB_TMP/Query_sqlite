PRAGMA foreign_keys = OFF;

DROP TABLE IF EXISTS resumes;
DROP TABLE IF EXISTS users;

-- جدول users
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username TEXT UNIQUE,
    password TEXT,
    created_at TEXT DEFAULT CURRENT_TIMESTAMP
);

-- جدول resumes
CREATE TABLE resumes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER,
    full_name TEXT,
    job_title TEXT,
    about TEXT,
    skills TEXT,
    experience TEXT,
    created_at TEXT DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) 
        ON DELETE RESTRICT 
        ON UPDATE RESTRICT
);

PRAGMA foreign_keys = ON;
